# php-lab5

Отчёт по лабораторной работе №5
Тема: Работа с базой данных, единая точка входа, шаблоны
Цель: Перенос проекта на архитектуру с шаблонами, подключением к MySQL и обработкой через PDO.

Структура проекта recipe-book/

recipe-book/
├── public/
│   ├── index.php                 ← вывод рецептов
│   └── recipe/
│       └── create.php            ← HTML-форма добавления
├── src/
│   ├── db.php                    ← подключение к MySQL
│   └── handlers/
│       └── recipe/
│           └── create.php        ← обработчик формы
├── config/
│   └── db.php                    ← параметры подключения

Реализовано

Подключение к БД с помощью PDO
Таблицы categories и recipes в базе
Форма добавления рецепта
Валидация и фильтрация данных
Сохранение рецепта в базу
Вывод рецептов на главной
Использование шаблонной архитектуры (в упрощённом виде)

Контрольные вопросы

1. Какие преимущества даёт использование единой точки входа?
Централизованная обработка всех запросов
Легче реализовать маршрутизацию
Проще масштабировать проект

2. Какие преимущества даёт использование шаблонов?

Повторное использование кода (header, footer)
Единый стиль на всех страницах
Чистый и читаемый код

3. Какие преимущества даёт хранение данных в базе?

Гибкий поиск, сортировка
Связи между таблицами (категория, пользователь и др.)
Высокая надёжность и масштабируемость

4. Что такое SQL-инъекция и как её предотвратить?

SQL-инъекция — это внедрение вредоносного SQL-кода через форму.

Пример:

SELECT * FROM recipes WHERE title = '$title'
Если пользователь введёт:
' OR 1=1 -- → получит доступ ко всем записям.

Решение:
Использование prepare() и bindValue():

$stmt = $pdo->prepare("SELECT * FROM recipes WHERE title = :title");
$stmt->bindValue(':title', $title);
$stmt->execute();
